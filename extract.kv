#:kivy 2.0.0

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        size: root.size
        spacing_vertical: -10
        padding: 25, 25
        BoxLayout:
            spacing: 40
            AnchorLayout:
                anchor_x: 'left'
                TextInput:
                    id: input
                    hint_text: "Paste photos numbers"
                    on_text: root.parse()
            AnchorLayout:
                anchor_x: 'right'
                TextInput:
                    id: parsed
                    hint_text: "These photos will be extracted"
                    readonly: True
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            BoxLayout:
                AnchorLayout:
                    anchor_x: 'right'
                    anchor_y: 'center'
                    Label:
                        id: templateLabel
                        font_size: 35
                        text: "Template:"
                        halign: "right"
                AnchorLayout:
                    anchor_x: 'left'
                    anchor_y: 'center'
                    TextInput:
                        id: template
                        size_hint: 1, 0.5
                        text: "IMG_*.CR3"
        BoxLayout:
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'center'
                Button:
                    id: sourceButton
                    text: "Select source folder"
                    on_release: root.show_source_selector()
                    size_hint: 0.8, 0.6
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'center'
                Label:
                    id: sourceLabel
                    font_size: 35
                    text: 'Source folder'
                    halign: 'left'
        BoxLayout:
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'center'
                Button:
                    id: targetButton
                    text: "Select target folder"
                    on_release: root.show_target_selector()
                    size_hint: 0.8, 0.6
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'center'
                Label:
                    id: targetLabel
                    font_size: 35
                    text: 'Target folder'
                    halign: 'left'
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'center'
            Button:
                id: startButton
                text: "Begin"
                on_release: root.extract()
                size_hint: 0.4, 0.6

<FolderSelector>
    chooser: chooser
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        DropDown:
            id: drop
        FileChooserIconView:
            id: chooser
            filters: [root.is_dir]
        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()
            Button:
                text: "Select"
                on_release: root.load(chooser.path, chooser.selection)